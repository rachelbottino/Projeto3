"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _leadToLowerCase = require("./leadToLowerCase");

var _leadToLowerCase2 = _interopRequireDefault(_leadToLowerCase);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const entries = Object.entries;

/**
 * Walk throght listeners object and execute given function on each of them.
 *
 * @param {object} listeners
 * @param {function} fn
 *
 * @api private
 */
function mapListeners(listeners, fn) {
  const res = {};

  for (const [key, value] of entries(listeners)) {
    const name = key.startsWith("on") ? (0, _leadToLowerCase2.default)(key.slice(2)) : key;

    if (!["error", "end"].includes(name)) {
      res[name] = fn(value, name);
    }
  }

  return res;
}

exports.default = mapListeners;