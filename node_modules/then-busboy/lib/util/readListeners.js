"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _fs = require("fs");

var _path = require("path");

/**
 * Read listeners from the disk
 *
 * @param {string} path â€“ an absolute path to listeners directory.
 *
 * @api private
 */
function readListeners(path) {
  const res = {};

  const dir = (0, _fs.readdirSync)(path);

  for (const filename of dir) {
    const ext = (0, _path.extname)(filename);
    if (["js", "mjs"].includes(ext.slice(1))) {
      const base = (0, _path.basename)(filename, ext);

      res[base] = require((0, _path.join)(path, base)).default;
    }
  }

  return res;
}

exports.default = readListeners;